import {GoogleGenerativeAI} from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a couple on a budget in Las Vegas for 3 days.  I'll try to keep costs down and suggest free or cheap activities.  Remember that prices can vary significantly based on the time of year and demand. I'll use estimated averages.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"location\": \"Las Vegas, NV\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageUrl\": \"https://example.com/circus_circus.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1287,\n        \"longitude\": -115.1674\n      },\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly option on the Strip with a circus theme, indoor amusement park (Adventuredome), and free circus acts.  Rooms are basic, but clean and affordable. Good for family with kids.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 55,\n      \"hotelImageUrl\": \"https://example.com/stratosphere.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1474,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.8,\n      \"description\": \"Located at the north end of the Strip, the Stratosphere offers lower room rates and amazing views from its observation tower.  Thrill rides are available for an extra cost. Rooms are good size and comfortable.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 60,\n      \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1022,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel at the south end of the Strip. Affordable rooms, multiple restaurants, and a lively casino. Excellent for families.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Shows\",\n      \"bestTimeToVisit\": \"Morning for Bellagio Conservatory, Evening for shows\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity.\",\n          \"placeImageUrl\": \"https://example.com/las_vegas_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1732\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"N/A (near south strip hotels)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful seasonal floral displays. Free to enter.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeToTravel\": \"15 minutes from Excalibur (walking)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Free to watch.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"timeToTravel\": \"Adjacent to Bellagio Conservatory\"\n        },\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a pedestrian mall in downtown Las Vegas. Viva Vision light shows are free.\",\n          \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1424\n          },\n          \"ticketPricing\": \"Free (for Viva Vision shows)\",\n          \"rating\": 4.6,\n          \"timeToTravel\": \"20-30 minutes from the strip (taxi/ride-share)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Central Strip Exploration & Budget Eats\",\n      \"bestTimeToVisit\": \"Afternoon for High Roller, Evening for shows/restaurants\",\n      \"activities\": [\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district.\",\n          \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1164,\n            \"longitude\": -115.1692\n          },\n          \"ticketPricing\": \"Free (to walk around)\",\n          \"rating\": 4.3,\n          \"timeToTravel\": \"Walk from Bellagio/Center Strip hotels\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Giant Ferris wheel offering panoramic views of the city. (Consider a daytime ride for cheaper tickets).\",\n          \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1166,\n            \"longitude\": -115.1689\n          },\n          \"ticketPricing\": \" $25-40 (depending on time of day/deals)\",\n          \"rating\": 4.4,\n          \"timeToTravel\": \"Located at the LINQ Promenade\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free volcano eruption show in front of the Mirage hotel.\",\n          \"placeImageUrl\": \"https://example.com/mirage_volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1184,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"Walk from High Roller (about 10 mins)\"\n        },\n        {\n          \"placeName\": \"Pinball Hall of Fame\",\n          \"placeDetails\": \"Large collection of pinball machines (play for a fee).\",\n          \"placeImageUrl\": \"https://example.com/pinball_hall_of_fame.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1017,\n            \"longitude\": -115.1617\n          },\n          \"ticketPricing\": \"Varies per game (cheap)\",\n          \"rating\": 4.5,\n          \"timeToTravel\": \"10-15 minutes south of the center Strip (taxi/ride-share)\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"North Strip & Departure\",\n      \"bestTimeToVisit\": \"Morning for exploring hotels, Afternoon for departure\",\n      \"activities\": [\n        {\n          \"placeName\": \"Venetian & Palazzo Hotels\",\n          \"placeDetails\": \"Explore the canals, shops, and restaurants. Free to walk around and admire the architecture.\",\n          \"placeImageUrl\": \"https://example.com/venetian_palazzo.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.1746\n          },\n          \"ticketPricing\": \"Free (unless you take a gondola ride)\",\n          \"rating\": 4.7,\n          \"timeToTravel\": \"Short walk from Mirage/Center Strip\"\n        },\n        {\n          \"placeName\": \"Forum Shops at Caesars\",\n          \"placeDetails\": \"Upscale shopping mall with Roman-themed architecture and free attractions.\",\n          \"placeImageUrl\": \"https://example.com/forum_shops.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1762\n          },\n          \"ticketPricing\": \"Free (to browse)\",\n          \"rating\": 4.4,\n          \"timeToTravel\": \"Next to Venetian/Palazzo\"\n        },\n          {\n          \"placeName\": \"Gold and Silver Pawn Shop\",\n          \"placeDetails\": \"Famed from the TV show. Check out some cool stuff.\",\n          \"placeImageUrl\": \"https://example.com/gold_silver_pawn.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1844,\n            \"longitude\": -115.1556\n          },\n          \"ticketPricing\": \"Free to enter\",\n          \"rating\": 4.2,\n          \"timeToTravel\": \"10-15 minutes north of the strip (taxi/ride-share)\"\n        }\n      ]\n    }\n  },\n    \"budgetTips\": [\n      \"Walk as much as possible to avoid taxi/ride-share costs.\",\n      \"Take advantage of free attractions and shows.\",\n      \"Look for happy hour deals and discounted meals.\",\n      \"Bring your own snacks and drinks to avoid expensive convenience store prices.\",\n      \"Consider purchasing a multi-day monorail pass if you plan to travel up and down the Strip frequently.\",\n      \"Look for coupons and discounts online before you go.\"\n    ]\n}\n```\n\n**Important Notes:**\n\n*   **Replace Placeholder URLs:**  I've used placeholder URLs like `https://example.com/...`.  You'll need to replace these with actual image URLs of the hotels and attractions.\n*   **Prices are Estimates:** Hotel and activity prices can fluctuate significantly based on the time of year, day of the week, and demand. Double-check current prices before booking.\n*   **Transportation:**  I've noted approximate travel times.  Public transportation (the bus) can be a very cheap option, but it will take longer than taxis or ride-sharing. Walking is free, but Las Vegas is spread out, so wear comfortable shoes!\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it to your interests and preferences.  Some couples might prefer to spend more time at the casinos, while others might want to explore museums or go hiking outside of the city.\n*   **Check Show Schedules:** Free show schedules (Bellagio fountains, Mirage volcano, etc.) can vary. Confirm times online before you go.\n*   **Hotel Shuttle:** Some hotels offer free shuttles to and from the airport. Check with your hotel to see if this is available.\n\nEnjoy your trip to Las Vegas!\n"},
          ],
        },
      ],
    });
  

  
  
